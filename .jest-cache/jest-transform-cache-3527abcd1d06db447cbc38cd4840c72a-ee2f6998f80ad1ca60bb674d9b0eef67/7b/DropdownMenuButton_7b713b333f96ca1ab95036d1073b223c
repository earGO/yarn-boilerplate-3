77e3c4bb737d6f963ed23e5e8e2c4003
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports["default"] = void 0;

var _extends2 = _interopRequireDefault(require("@babel/runtime/helpers/extends"));

var _slicedToArray2 = _interopRequireDefault(require("@babel/runtime/helpers/slicedToArray"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _react = _interopRequireDefault(require("react"));

var _styledComponents = _interopRequireDefault(require("styled-components"));

var _designSystem = require("@ursip/design-system");

var Item = (0, _styledComponents["default"])(_designSystem.Text).withConfig({
  displayName: "DropdownMenuButton__Item",
  componentId: "sc-8bhq4p-0"
})(["border-bottom:1px solid ", ";padding:", ";transition:background-color 0.5s;cursor:pointer;&:hover{background-color:", ";}&:last-child{border:0;}"], function (props) {
  return props.theme.colors.border;
}, function (props) {
  return "".concat(props.theme.space[2], "px ").concat(props.theme.space[2], "px");
}, function (props) {
  return props.theme.colors.lightGrey;
});

function DropdownMenuButton(_ref) {
  var children = _ref.children,
      items = _ref.items,
      props = (0, _objectWithoutProperties2["default"])(_ref, ["children", "items"]);

  var _React$useState = _react["default"].useState(false),
      _React$useState2 = (0, _slicedToArray2["default"])(_React$useState, 2),
      visible = _React$useState2[0],
      setDropdownVisibility = _React$useState2[1];

  var handleButtonClick = function handleButtonClick() {
    return setDropdownVisibility(!visible);
  };

  var closeDropdown = function closeDropdown() {
    return setDropdownVisibility(false);
  };

  var popoverContent = function popoverContent() {
    return _react["default"].createElement(_designSystem.Card, {
      bg: "white",
      style: {
        whiteSpace: 'nowrap'
      }
    }, items.map(function (item, index) {
      return _react["default"].createElement(Item, {
        key: index,
        onClick: function onClick() {
          closeDropdown();
          item.onClick && typeof item.onClick === 'function' && item.onClick();
        }
      }, item.name);
    }));
  };

  return _react["default"].createElement(_designSystem.Popover, {
    disableReposition: false,
    isOpen: visible,
    position: "bottom",
    content: popoverContent,
    onClickOutside: closeDropdown
  }, _react["default"].createElement(_designSystem.Button, (0, _extends2["default"])({
    type: "primary",
    size: "small",
    onClick: handleButtonClick
  }, props), children, " ", _react["default"].createElement(_designSystem.Icon, {
    mx: 1,
    name: visible ? 'chevron-up' : 'chevron-down'
  })));
}

DropdownMenuButton.defaultProps = {
  items: []
};
var _default = DropdownMenuButton;
exports["default"] = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkRyb3Bkb3duTWVudUJ1dHRvbi5qcyJdLCJuYW1lcyI6WyJJdGVtIiwiVGV4dCIsInByb3BzIiwidGhlbWUiLCJjb2xvcnMiLCJib3JkZXIiLCJzcGFjZSIsImxpZ2h0R3JleSIsIkRyb3Bkb3duTWVudUJ1dHRvbiIsImNoaWxkcmVuIiwiaXRlbXMiLCJSZWFjdCIsInVzZVN0YXRlIiwidmlzaWJsZSIsInNldERyb3Bkb3duVmlzaWJpbGl0eSIsImhhbmRsZUJ1dHRvbkNsaWNrIiwiY2xvc2VEcm9wZG93biIsInBvcG92ZXJDb250ZW50Iiwid2hpdGVTcGFjZSIsIm1hcCIsIml0ZW0iLCJpbmRleCIsIm9uQ2xpY2siLCJuYW1lIiwiZGVmYXVsdFByb3BzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7QUFFQSxJQUFNQSxJQUFJLEdBQUcsa0NBQU9DLGtCQUFQLENBQUg7QUFBQTtBQUFBO0FBQUEseUpBQ21CLFVBQUFDLEtBQUs7QUFBQSxTQUFJQSxLQUFLLENBQUNDLEtBQU4sQ0FBWUMsTUFBWixDQUFtQkMsTUFBdkI7QUFBQSxDQUR4QixFQUVHLFVBQUFILEtBQUs7QUFBQSxtQkFBT0EsS0FBSyxDQUFDQyxLQUFOLENBQVlHLEtBQVosQ0FBa0IsQ0FBbEIsQ0FBUCxnQkFBaUNKLEtBQUssQ0FBQ0MsS0FBTixDQUFZRyxLQUFaLENBQWtCLENBQWxCLENBQWpDO0FBQUEsQ0FGUixFQU9jLFVBQUFKLEtBQUs7QUFBQSxTQUFJQSxLQUFLLENBQUNDLEtBQU4sQ0FBWUMsTUFBWixDQUFtQkcsU0FBdkI7QUFBQSxDQVBuQixDQUFWOztBQWNBLFNBQVNDLGtCQUFULE9BQTJEO0FBQUEsTUFBN0JDLFFBQTZCLFFBQTdCQSxRQUE2QjtBQUFBLE1BQW5CQyxLQUFtQixRQUFuQkEsS0FBbUI7QUFBQSxNQUFUUixLQUFTOztBQUFBLHdCQUNoQlMsa0JBQU1DLFFBQU4sQ0FBZSxLQUFmLENBRGdCO0FBQUE7QUFBQSxNQUNsREMsT0FEa0Q7QUFBQSxNQUN6Q0MscUJBRHlDOztBQUV6RCxNQUFNQyxpQkFBaUIsR0FBRyxTQUFwQkEsaUJBQW9CO0FBQUEsV0FBTUQscUJBQXFCLENBQUMsQ0FBQ0QsT0FBRixDQUEzQjtBQUFBLEdBQTFCOztBQUNBLE1BQU1HLGFBQWEsR0FBRyxTQUFoQkEsYUFBZ0I7QUFBQSxXQUFNRixxQkFBcUIsQ0FBQyxLQUFELENBQTNCO0FBQUEsR0FBdEI7O0FBQ0EsTUFBTUcsY0FBYyxHQUFHLFNBQWpCQSxjQUFpQjtBQUFBLFdBQ3JCLGdDQUFDLGtCQUFEO0FBQ0UsTUFBQSxFQUFFLEVBQUMsT0FETDtBQUVFLE1BQUEsS0FBSyxFQUFFO0FBQ0xDLFFBQUFBLFVBQVUsRUFBRTtBQURQO0FBRlQsT0FNR1IsS0FBSyxDQUFDUyxHQUFOLENBQVUsVUFBQ0MsSUFBRCxFQUFPQyxLQUFQO0FBQUEsYUFDVCxnQ0FBQyxJQUFEO0FBQ0UsUUFBQSxHQUFHLEVBQUVBLEtBRFA7QUFFRSxRQUFBLE9BQU8sRUFBRSxtQkFBTTtBQUNiTCxVQUFBQSxhQUFhO0FBQ2JJLFVBQUFBLElBQUksQ0FBQ0UsT0FBTCxJQUFnQixPQUFPRixJQUFJLENBQUNFLE9BQVosS0FBd0IsVUFBeEMsSUFBc0RGLElBQUksQ0FBQ0UsT0FBTCxFQUF0RDtBQUNEO0FBTEgsU0FPR0YsSUFBSSxDQUFDRyxJQVBSLENBRFM7QUFBQSxLQUFWLENBTkgsQ0FEcUI7QUFBQSxHQUF2Qjs7QUFxQkEsU0FDRSxnQ0FBQyxxQkFBRDtBQUNFLElBQUEsaUJBQWlCLEVBQUUsS0FEckI7QUFFRSxJQUFBLE1BQU0sRUFBRVYsT0FGVjtBQUdFLElBQUEsUUFBUSxFQUFDLFFBSFg7QUFJRSxJQUFBLE9BQU8sRUFBRUksY0FKWDtBQUtFLElBQUEsY0FBYyxFQUFFRDtBQUxsQixLQU9FLGdDQUFDLG9CQUFEO0FBQVEsSUFBQSxJQUFJLEVBQUMsU0FBYjtBQUF1QixJQUFBLElBQUksRUFBQyxPQUE1QjtBQUFvQyxJQUFBLE9BQU8sRUFBRUQ7QUFBN0MsS0FBb0ViLEtBQXBFLEdBQ0dPLFFBREgsT0FDYyxnQ0FBQyxrQkFBRDtBQUFNLElBQUEsRUFBRSxFQUFFLENBQVY7QUFBYSxJQUFBLElBQUksRUFBRUksT0FBTyxHQUFHLFlBQUgsR0FBa0I7QUFBNUMsSUFEZCxDQVBGLENBREY7QUFhRDs7QUFFREwsa0JBQWtCLENBQUNnQixZQUFuQixHQUFrQztBQUNoQ2QsRUFBQUEsS0FBSyxFQUFFO0FBRHlCLENBQWxDO2VBSWVGLGtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgc3R5bGVkIGZyb20gJ3N0eWxlZC1jb21wb25lbnRzJ1xyXG5pbXBvcnQgeyBDYXJkLCBUZXh0LCBCdXR0b24sIEljb24sIFBvcG92ZXIgfSBmcm9tICdAdXJzaXAvZGVzaWduLXN5c3RlbSdcclxuXHJcbmNvbnN0IEl0ZW0gPSBzdHlsZWQoVGV4dClgXHJcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICR7cHJvcHMgPT4gcHJvcHMudGhlbWUuY29sb3JzLmJvcmRlcn07XHJcbiAgcGFkZGluZzogJHtwcm9wcyA9PiBgJHtwcm9wcy50aGVtZS5zcGFjZVsyXX1weCAke3Byb3BzLnRoZW1lLnNwYWNlWzJdfXB4YH07XHJcbiAgdHJhbnNpdGlvbjogYmFja2dyb3VuZC1jb2xvciAwLjVzO1xyXG4gIGN1cnNvcjogcG9pbnRlcjtcclxuXHJcbiAgJjpob3ZlciB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke3Byb3BzID0+IHByb3BzLnRoZW1lLmNvbG9ycy5saWdodEdyZXl9O1xyXG4gIH1cclxuICAmOmxhc3QtY2hpbGQge1xyXG4gICAgYm9yZGVyOiAwO1xyXG4gIH1cclxuYFxyXG5cclxuZnVuY3Rpb24gRHJvcGRvd25NZW51QnV0dG9uKHsgY2hpbGRyZW4sIGl0ZW1zLCAuLi5wcm9wcyB9KSB7XHJcbiAgY29uc3QgW3Zpc2libGUsIHNldERyb3Bkb3duVmlzaWJpbGl0eV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSlcclxuICBjb25zdCBoYW5kbGVCdXR0b25DbGljayA9ICgpID0+IHNldERyb3Bkb3duVmlzaWJpbGl0eSghdmlzaWJsZSlcclxuICBjb25zdCBjbG9zZURyb3Bkb3duID0gKCkgPT4gc2V0RHJvcGRvd25WaXNpYmlsaXR5KGZhbHNlKVxyXG4gIGNvbnN0IHBvcG92ZXJDb250ZW50ID0gKCkgPT4gKFxyXG4gICAgPENhcmRcclxuICAgICAgYmc9XCJ3aGl0ZVwiXHJcbiAgICAgIHN0eWxlPXt7XHJcbiAgICAgICAgd2hpdGVTcGFjZTogJ25vd3JhcCcsXHJcbiAgICAgIH19XHJcbiAgICA+XHJcbiAgICAgIHtpdGVtcy5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoXHJcbiAgICAgICAgPEl0ZW1cclxuICAgICAgICAgIGtleT17aW5kZXh9XHJcbiAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB7XHJcbiAgICAgICAgICAgIGNsb3NlRHJvcGRvd24oKVxyXG4gICAgICAgICAgICBpdGVtLm9uQ2xpY2sgJiYgdHlwZW9mIGl0ZW0ub25DbGljayA9PT0gJ2Z1bmN0aW9uJyAmJiBpdGVtLm9uQ2xpY2soKVxyXG4gICAgICAgICAgfX1cclxuICAgICAgICA+XHJcbiAgICAgICAgICB7aXRlbS5uYW1lfVxyXG4gICAgICAgIDwvSXRlbT5cclxuICAgICAgKSl9XHJcbiAgICA8L0NhcmQ+XHJcbiAgKVxyXG5cclxuICByZXR1cm4gKFxyXG4gICAgPFBvcG92ZXJcclxuICAgICAgZGlzYWJsZVJlcG9zaXRpb249e2ZhbHNlfVxyXG4gICAgICBpc09wZW49e3Zpc2libGV9XHJcbiAgICAgIHBvc2l0aW9uPVwiYm90dG9tXCJcclxuICAgICAgY29udGVudD17cG9wb3ZlckNvbnRlbnR9XHJcbiAgICAgIG9uQ2xpY2tPdXRzaWRlPXtjbG9zZURyb3Bkb3dufVxyXG4gICAgPlxyXG4gICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgc2l6ZT1cInNtYWxsXCIgb25DbGljaz17aGFuZGxlQnV0dG9uQ2xpY2t9IHsuLi5wcm9wc30+XHJcbiAgICAgICAge2NoaWxkcmVufSB7PEljb24gbXg9ezF9IG5hbWU9e3Zpc2libGUgPyAnY2hldnJvbi11cCcgOiAnY2hldnJvbi1kb3duJ30gLz59XHJcbiAgICAgIDwvQnV0dG9uPlxyXG4gICAgPC9Qb3BvdmVyPlxyXG4gIClcclxufVxyXG5cclxuRHJvcGRvd25NZW51QnV0dG9uLmRlZmF1bHRQcm9wcyA9IHtcclxuICBpdGVtczogW10sXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IERyb3Bkb3duTWVudUJ1dHRvblxyXG4iXX0=