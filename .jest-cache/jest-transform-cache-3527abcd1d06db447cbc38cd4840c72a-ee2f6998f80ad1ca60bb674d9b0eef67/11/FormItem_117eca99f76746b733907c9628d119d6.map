{"version":3,"sources":["FormItem.js"],"names":["multiplePrefix","FormItem","name","initialValue","label","options","labelWidth","children","required","form","type","multiple","props","requiredRule","message","rules","field","React","cloneElement","Children","only","decoratorOptions","concat","renderTemplate","decorator","getFieldDecorator","propTypes","PropTypes","bool","defaultProps"],"mappings":";;;;;;;;;;;;;AAAA;;AACA;;AACA;;AACA;;;;;;AACA,IAAMA,cAAc,GAAG,GAAvB;;AAEA,SAASC,QAAT,OAYG;AAAA,MAXDC,IAWC,QAXDA,IAWC;AAAA,MAVDC,YAUC,QAVDA,YAUC;AAAA,MATDC,KASC,QATDA,KASC;AAAA,0BARDC,OAQC;AAAA,MARDA,OAQC,6BARS,EAQT;AAAA,6BAPDC,UAOC;AAAA,MAPDA,UAOC,gCAPY,GAOZ;AAAA,MANDC,QAMC,QANDA,QAMC;AAAA,MALDC,QAKC,QALDA,QAKC;AAAA,MAJDC,IAIC,QAJDA,IAIC;AAAA,MAHDC,IAGC,QAHDA,IAGC;AAAA,MAFDC,QAEC,QAFDA,QAEC;AAAA,MADEC,KACF;AACD,MAAMC,YAAY,GAAG;AAAEL,IAAAA,QAAQ,EAAE,IAAZ;AAAkBM,IAAAA,OAAO,EAAE,oBAAoBV;AAA/C,GAArB;AACA,MAAMW,KAAK,GAAGV,OAAO,CAACU,KAAR,GAAgBV,OAAO,CAACU,KAAxB,GAAgC,EAA9C;;AACA,MAAMC,KAAK,GAAGC,kBAAMC,YAAN,CAAmBD,kBAAME,QAAN,CAAeC,IAAf,CAAoBb,QAApB,CAAnB,CAAd;;AACA,MAAMc,gBAAgB;AACpBlB,IAAAA,YAAY,EAAZA;AADoB,KAEjBE,OAFiB;AAGpBU,IAAAA,KAAK,EAAEP,QAAQ,GAAGO,KAAK,CAACO,MAAN,CAAaT,YAAb,CAAH,GAAgC;AAH3B,IAAtB;;AAKA,MAAMU,cAAc,GAAG,SAAjBA,cAAiB,CAAAC,SAAS,EAAI;AAClC,WAAO,gCAAC,kBAAD,CAAM,IAAN;AAAW,MAAA,QAAQ,EAAEhB;AAArB,OAAgCgB,SAAS,CAACtB,IAAD,EAAOmB,gBAAP,CAAT,CAAkCL,KAAlC,CAAhC,CAAP;AACD,GAFD;;AAIA,SACE,gCAAC,kBAAD;AAAM,IAAA,aAAa,EAAC,QAApB;AAA6B,IAAA,EAAE,EAAE;AAAjC,KACGZ,KAAK,IACJ,gCAAC,iBAAD,QACGA,KADH,EACU,GADV,EAEGI,QAAQ,IACP,gCAAC,kBAAD;AAAM,IAAA,MAAM,MAAZ;AAAa,IAAA,KAAK,EAAC;AAAnB,SAHJ,CAFJ,EAWE,gCAAC,iBAAD,QACGG,QAAQ,GACP,gCAAC,uBAAD;AAAa,IAAA,IAAI,EAAEF,IAAnB;AAAyB,IAAA,KAAK,EAAET,cAAc,GAAGE,IAAjD;AAAuD,IAAA,cAAc,EAAEqB;AAAvE,IADO,GAGP,gCAAC,kBAAD,CAAM,IAAN;AAAW,IAAA,QAAQ,EAAEf;AAArB,KAAgCC,IAAI,CAACgB,iBAAL,CAAuBvB,IAAvB,EAA6BmB,gBAA7B,EAA+CL,KAA/C,CAAhC,CAJJ,CAXF,CADF,CAbC,CAmCD;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACD;;AAEDf,QAAQ,CAACyB,SAAT,GAAqB;AACnBlB,EAAAA,QAAQ,EAAEmB,sBAAUC;AADD,CAArB;AAIA3B,QAAQ,CAAC4B,YAAT,GAAwB;AACtBrB,EAAAA,QAAQ,EAAE;AADY,CAAxB;eAIeP,Q","sourcesContent":["import React from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Form, Flex, Box, Text } from '@ursip/design-system'\r\nimport DynamicForm from './DynamicForm'\r\nconst multiplePrefix = '$'\r\n\r\nfunction FormItem({\r\n  name,\r\n  initialValue,\r\n  label,\r\n  options = {},\r\n  labelWidth = 128,\r\n  children,\r\n  required,\r\n  form,\r\n  type,\r\n  multiple,\r\n  ...props\r\n}) {\r\n  const requiredRule = { required: true, message: 'Заполните поле ' + label }\r\n  const rules = options.rules ? options.rules : []\r\n  const field = React.cloneElement(React.Children.only(children))\r\n  const decoratorOptions = {\r\n    initialValue,\r\n    ...options,\r\n    rules: required ? rules.concat(requiredRule) : [],\r\n  }\r\n  const renderTemplate = decorator => {\r\n    return <Form.Item required={required}>{decorator(name, decoratorOptions)(field)}</Form.Item>\r\n  }\r\n\r\n  return (\r\n    <Flex flexDirection=\"column\" mb={2}>\r\n      {label && (\r\n        <Box>\r\n          {label}{' '}\r\n          {required && (\r\n            <Text inline color=\"error\">\r\n              *\r\n            </Text>\r\n          )}\r\n        </Box>\r\n      )}\r\n      <Box>\r\n        {multiple ? (\r\n          <DynamicForm form={form} group={multiplePrefix + name} renderTemplate={renderTemplate} />\r\n        ) : (\r\n          <Form.Item required={required}>{form.getFieldDecorator(name, decoratorOptions)(field)}</Form.Item>\r\n        )}\r\n      </Box>\r\n    </Flex>\r\n  )\r\n\r\n  // if (multiple) {\r\n  //   return <DynamicForm form={form} group={multiplePrefix + name} renderTemplate={renderTemplate} />\r\n\r\n  //     <Form.Item required={required} label={label} labelProps={{ mb: 1 }} mb={3}>\r\n  //     {field}\r\n  //   </Form.Item>\r\n  // } else {\r\n  // }\r\n\r\n  // return form.getFieldDecorator(name, decoratorOptions)(field)\r\n}\r\n\r\nFormItem.propTypes = {\r\n  required: PropTypes.bool,\r\n}\r\n\r\nFormItem.defaultProps = {\r\n  required: false,\r\n}\r\n\r\nexport default FormItem\r\n"]}